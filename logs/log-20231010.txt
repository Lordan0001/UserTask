2023-10-10 20:49:06.083 +03:00 [INF] UserController get user role => [{"Id":2,"UserId":1,"User":null,"RoleId":1,"Role":null,"$type":"UserRole"},{"Id":3,"UserId":1,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":5,"UserId":6,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":6,"UserId":7,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":9,"UserId":11,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":13,"UserId":15,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":14,"UserId":16,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":15,"UserId":17,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":16,"UserId":18,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":17,"UserId":19,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":18,"UserId":20,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":19,"UserId":21,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":20,"UserId":22,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":22,"UserId":2,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":23,"UserId":2,"User":null,"RoleId":3,"Role":null,"$type":"UserRole"},{"Id":24,"UserId":3,"User":null,"RoleId":3,"Role":null,"$type":"UserRole"},{"Id":25,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":26,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":27,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":28,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":30,"UserId":24,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":31,"UserId":25,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":32,"UserId":26,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":33,"UserId":27,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":34,"UserId":28,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":35,"UserId":29,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":36,"UserId":30,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":37,"UserId":31,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":38,"UserId":32,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":39,"UserId":33,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":40,"UserId":34,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":41,"UserId":35,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":42,"UserId":36,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":43,"UserId":37,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":44,"UserId":38,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":45,"UserId":39,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":46,"UserId":40,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":47,"UserId":41,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":49,"UserId":43,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":50,"UserId":44,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":51,"UserId":45,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":52,"UserId":46,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"}]
2023-10-10 21:03:14.624 +03:00 [INF] Now listening on: https://localhost:7161
2023-10-10 21:03:14.675 +03:00 [INF] Now listening on: http://localhost:5029
2023-10-10 21:03:14.682 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 21:03:14.684 +03:00 [INF] Hosting environment: Development
2023-10-10 21:03:14.685 +03:00 [INF] Content root path: D:\Projects\.NET\Interview\UserTask\
2023-10-10 21:03:15.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - -
2023-10-10 21:03:15.526 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - - - 200 - text/html;charset=utf-8 409.2971ms
2023-10-10 21:03:15.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - -
2023-10-10 21:03:15.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 21:03:15.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - - - 200 12348 application/javascript;+charset=utf-8 8.0791ms
2023-10-10 21:03:15.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.6592ms
2023-10-10 21:03:16.048 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - -
2023-10-10 21:03:16.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 239.8406ms
2023-10-10 21:03:28.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/User/UserRoles - -
2023-10-10 21:03:28.316 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.GetUserRoles (UserTask)'
2023-10-10 21:03:28.347 +03:00 [INF] Route matched with {action = "GetUserRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserTask.Models.UserRole]]] GetUserRoles() on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:03:30.149 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[RoleId], [u].[UserId]
FROM [UserRoles] AS [u]
2023-10-10 21:03:30.232 +03:00 [INF] UserController get user role => [{"Id":2,"UserId":1,"User":null,"RoleId":1,"Role":null,"$type":"UserRole"},{"Id":3,"UserId":1,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":5,"UserId":6,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":6,"UserId":7,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":9,"UserId":11,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":13,"UserId":15,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":14,"UserId":16,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":15,"UserId":17,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":16,"UserId":18,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":17,"UserId":19,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":18,"UserId":20,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":19,"UserId":21,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":20,"UserId":22,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":22,"UserId":2,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":23,"UserId":2,"User":null,"RoleId":3,"Role":null,"$type":"UserRole"},{"Id":24,"UserId":3,"User":null,"RoleId":3,"Role":null,"$type":"UserRole"},{"Id":25,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":26,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":27,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":28,"UserId":3,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"},{"Id":30,"UserId":24,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":31,"UserId":25,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":32,"UserId":26,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":33,"UserId":27,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":34,"UserId":28,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":35,"UserId":29,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":36,"UserId":30,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":37,"UserId":31,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":38,"UserId":32,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":39,"UserId":33,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":40,"UserId":34,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":41,"UserId":35,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":42,"UserId":36,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":43,"UserId":37,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":44,"UserId":38,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":45,"UserId":39,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":46,"UserId":40,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":47,"UserId":41,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":49,"UserId":43,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":50,"UserId":44,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":51,"UserId":45,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"},{"Id":52,"UserId":46,"User":null,"RoleId":4,"Role":null,"$type":"UserRole"}]
2023-10-10 21:03:30.483 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[RoleId], [u].[UserId]
FROM [UserRoles] AS [u]
2023-10-10 21:03:30.496 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserTask.Models.UserRole, UserTask, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-10 21:03:30.518 +03:00 [INF] Executed action UserTask.Controllers.UserController.GetUserRoles (UserTask) in 2161.8465ms
2023-10-10 21:03:30.523 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.GetUserRoles (UserTask)'
2023-10-10 21:03:30.530 +03:00 [INF] HTTP GET /api/User/UserRoles responded 200 in 2223.0996 ms
2023-10-10 21:03:30.543 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/User/UserRoles - - - 200 - application/json;+charset=utf-8 2245.0042ms
2023-10-10 21:03:36.563 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/User/Role?page=1&pageSize=100&sortField=Id&sortOrder=asc - -
2023-10-10 21:03:36.567 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.GetRoles (UserTask)'
2023-10-10 21:03:36.599 +03:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserTask.Models.Role]]] GetRoles(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String, System.String) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:03:36.749 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Roles] AS [r]
2023-10-10 21:03:36.803 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Name]
FROM [Roles] AS [r]
ORDER BY [r].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-10-10 21:03:36.826 +03:00 [INF] UserController: Retrieving roles with pagination. Total roles found: 4, Page: 1, PageSize: 100
2023-10-10 21:03:36.829 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`5[[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[UserTask.Models.Role, UserTask, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-10 21:03:36.848 +03:00 [INF] Executed action UserTask.Controllers.UserController.GetRoles (UserTask) in 245.0329ms
2023-10-10 21:03:36.850 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.GetRoles (UserTask)'
2023-10-10 21:03:36.852 +03:00 [INF] HTTP GET /api/User/Role responded 200 in 285.0921 ms
2023-10-10 21:03:36.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/User/Role?page=1&pageSize=100&sortField=Id&sortOrder=asc - - - 200 - application/json;+charset=utf-8 293.8458ms
2023-10-10 21:06:56.852 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7161/api/User/Role application/json 38
2023-10-10 21:06:56.855 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:06:56.859 +03:00 [INF] Route matched with {action = "PostUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserTask.Models.UserRole]] PostUserRole(UserTask.Models.UserRole) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:06:57.082 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-10-10 21:06:57.120 +03:00 [INF] UserController: add role => {"Id":53,"UserId":46,"User":null,"RoleId":3,"Role":null,"$type":"UserRole"}
2023-10-10 21:06:57.127 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-10 21:06:57.130 +03:00 [INF] Executed action UserTask.Controllers.UserController.PostUserRole (UserTask) in 267.5707ms
2023-10-10 21:06:57.132 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:06:57.134 +03:00 [INF] HTTP POST /api/User/Role responded 200 in 278.7791 ms
2023-10-10 21:06:57.137 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7161/api/User/Role application/json 38 - 200 - text/plain;+charset=utf-8 284.6199ms
2023-10-10 21:24:29.129 +03:00 [INF] Now listening on: https://localhost:7161
2023-10-10 21:24:29.187 +03:00 [INF] Now listening on: http://localhost:5029
2023-10-10 21:24:29.194 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 21:24:29.196 +03:00 [INF] Hosting environment: Development
2023-10-10 21:24:29.197 +03:00 [INF] Content root path: D:\Projects\.NET\Interview\UserTask\
2023-10-10 21:24:29.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - -
2023-10-10 21:24:29.795 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - - - 200 - text/html;charset=utf-8 372.6327ms
2023-10-10 21:24:29.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 21:24:29.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - -
2023-10-10 21:24:29.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - - - 200 12348 application/javascript;+charset=utf-8 7.8296ms
2023-10-10 21:24:29.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.0966ms
2023-10-10 21:24:30.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - -
2023-10-10 21:24:30.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.4311ms
2023-10-10 21:25:06.201 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/User/Role application/json 33
2023-10-10 21:25:06.225 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:25:06.280 +03:00 [INF] Route matched with {action = "PostUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserTask.Models.UserRole]] PostUserRole(UserTask.ControllerModels.DTOUserRole) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:25:07.949 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-10-10 21:25:08.018 +03:00 [INF] UserController: add role => {"Id":54,"UserId":46,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"}
2023-10-10 21:25:08.043 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-10 21:25:08.051 +03:00 [INF] Executed action UserTask.Controllers.UserController.PostUserRole (UserTask) in 1764.0528ms
2023-10-10 21:25:08.055 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:25:08.059 +03:00 [INF] HTTP POST /api/User/Role responded 200 in 1847.8776 ms
2023-10-10 21:25:08.068 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/User/Role application/json 33 - 200 - text/plain;+charset=utf-8 1866.5074ms
2023-10-10 21:27:05.415 +03:00 [INF] Now listening on: https://localhost:7161
2023-10-10 21:27:05.471 +03:00 [INF] Now listening on: http://localhost:5029
2023-10-10 21:27:05.486 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 21:27:05.489 +03:00 [INF] Hosting environment: Development
2023-10-10 21:27:05.491 +03:00 [INF] Content root path: D:\Projects\.NET\Interview\UserTask\
2023-10-10 21:27:05.577 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - -
2023-10-10 21:27:05.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - - - 200 - text/html;charset=utf-8 416.5199ms
2023-10-10 21:27:06.078 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 21:27:06.078 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - -
2023-10-10 21:27:06.085 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - - - 200 12348 application/javascript;+charset=utf-8 7.5741ms
2023-10-10 21:27:06.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.2875ms
2023-10-10 21:27:06.486 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - -
2023-10-10 21:27:06.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.4740ms
2023-10-10 21:27:37.455 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/User/Role application/json 50
2023-10-10 21:27:37.467 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:27:37.511 +03:00 [INF] Route matched with {action = "PostUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserTask.Models.UserRole]] PostUserRole(UserTask.ControllerModels.DTOUserRole) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:27:37.721 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-10-10 21:27:37.743 +03:00 [INF] Executed action UserTask.Controllers.UserController.PostUserRole (UserTask) in 220.6622ms
2023-10-10 21:27:37.748 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:27:37.753 +03:00 [INF] HTTP POST /api/User/Role responded 400 in 289.8732 ms
2023-10-10 21:27:37.759 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/User/Role application/json 50 - 400 - application/problem+json;+charset=utf-8 304.6018ms
2023-10-10 21:27:50.875 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/User/Role application/json 38
2023-10-10 21:27:50.878 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:27:50.897 +03:00 [INF] Route matched with {action = "PostUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserTask.Models.UserRole]] PostUserRole(UserTask.ControllerModels.DTOUserRole) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:27:52.443 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-10-10 21:27:52.507 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'UserTask.Context.MainContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_UserRoles_Roles_RoleId". Конфликт произошел в базе данных "UserTask", таблица "dbo.Roles", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:693385a6-fa47-4df6-bd8e-c9777c49b29d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_UserRoles_Roles_RoleId". Конфликт произошел в базе данных "UserTask", таблица "dbo.Roles", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:693385a6-fa47-4df6-bd8e-c9777c49b29d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-10-10 21:27:52.537 +03:00 [INF] Executed action UserTask.Controllers.UserController.PostUserRole (UserTask) in 1630.7544ms
2023-10-10 21:27:52.540 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PostUserRole (UserTask)'
2023-10-10 21:27:52.542 +03:00 [ERR] HTTP POST /api/User/Role responded 500 in 1664.8121 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_UserRoles_Roles_RoleId". Конфликт произошел в базе данных "UserTask", таблица "dbo.Roles", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:693385a6-fa47-4df6-bd8e-c9777c49b29d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at UserTask.Controllers.UserController.PostUserRole(DTOUserRole dtoUserRole) in D:\Projects\.NET\Interview\UserTask\Controllers\UserController.cs:line 292
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-10-10 21:27:52.586 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_UserRoles_Roles_RoleId". Конфликт произошел в базе данных "UserTask", таблица "dbo.Roles", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:693385a6-fa47-4df6-bd8e-c9777c49b29d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at UserTask.Controllers.UserController.PostUserRole(DTOUserRole dtoUserRole) in D:\Projects\.NET\Interview\UserTask\Controllers\UserController.cs:line 292
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-10 21:27:52.628 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/User/Role application/json 38 - 500 - text/plain;+charset=utf-8 1753.7694ms
2023-10-10 21:30:50.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/User?page=1&pageSize=100&sortField=Id&sortOrder=asc - -
2023-10-10 21:30:50.642 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.GetUsers (UserTask)'
2023-10-10 21:30:50.650 +03:00 [INF] Route matched with {action = "GetUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserTask.Models.User]]] GetUsers(Int32, Int32, System.String, System.String, System.String) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:30:51.049 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2023-10-10 21:30:51.118 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-10-10 21:30:51.164 +03:00 [INF] UserController: Retrieving users with pagination. Total roles found: 39, Page: 1, PageSize: 100
2023-10-10 21:30:51.172 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`5[[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[UserTask.Models.User, UserTask, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-10 21:30:51.197 +03:00 [INF] Executed action UserTask.Controllers.UserController.GetUsers (UserTask) in 543.4014ms
2023-10-10 21:30:51.203 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.GetUsers (UserTask)'
2023-10-10 21:30:51.204 +03:00 [INF] HTTP GET /api/User responded 200 in 562.6527 ms
2023-10-10 21:30:51.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/User?page=1&pageSize=100&sortField=Id&sortOrder=asc - - - 200 - application/json;+charset=utf-8 567.9821ms
2023-10-10 21:31:01.753 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/User application/json 74
2023-10-10 21:31:01.755 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PostUser (UserTask)'
2023-10-10 21:31:01.766 +03:00 [INF] Route matched with {action = "PostUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserTask.Models.User]] PostUser(UserTask.ControllerModels.DTOUser) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:31:01.862 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__createUser_email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__createUser_email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-10-10 21:31:01.871 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-10-10 21:31:01.875 +03:00 [INF] Executed action UserTask.Controllers.UserController.PostUser (UserTask) in 105.8207ms
2023-10-10 21:31:01.880 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PostUser (UserTask)'
2023-10-10 21:31:01.881 +03:00 [INF] HTTP POST /api/User responded 400 in 125.7073 ms
2023-10-10 21:31:01.884 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/User application/json 74 - 400 - application/json;+charset=utf-8 130.3810ms
2023-10-10 21:31:27.608 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/User application/json 76
2023-10-10 21:31:27.611 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PostUser (UserTask)'
2023-10-10 21:31:27.613 +03:00 [INF] Route matched with {action = "PostUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserTask.Models.User]] PostUser(UserTask.ControllerModels.DTOUser) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:31:27.652 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__createUser_email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__createUser_email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-10-10 21:31:27.675 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Age], [Email], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-10-10 21:31:27.731 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-10-10 21:31:27.737 +03:00 [INF] UserController: add user => {"Id":47,"Name":"string","Age":2147483647,"Email":"user11@example.com","UserRoles":[{"Id":56,"UserId":47,"User":{"Id":47,"Name":"string","Age":2147483647,"Email":"user11@example.com","UserRoles":[{"Id":56,"UserId":47,"User":{"Id":47,"Name":"string","Age":2147483647,"Email":"user11@example.com","UserRoles":[{"Id":56,"UserId":47,"User":{"Id":null,"Name":null,"Age":null,"Email":null,"UserRoles":null,"$type":"User"},"RoleId":4,"Role":null,"$type":"UserRole"}],"$type":"User"},"RoleId":4,"Role":null,"$type":"UserRole"}],"$type":"User"},"RoleId":4,"Role":null,"$type":"UserRole"}],"$type":"User"}
2023-10-10 21:31:27.785 +03:00 [INF] Executing ObjectResult, writing value of type 'UserTask.Models.User'.
2023-10-10 21:31:27.787 +03:00 [INF] Executed action UserTask.Controllers.UserController.PostUser (UserTask) in 149.3749ms
2023-10-10 21:31:27.791 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PostUser (UserTask)'
2023-10-10 21:31:27.793 +03:00 [INF] HTTP POST /api/User responded 200 in 181.8300 ms
2023-10-10 21:31:27.797 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/User application/json 76 - 200 - application/json;+charset=utf-8 188.9465ms
2023-10-10 21:31:34.862 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/User/12 - -
2023-10-10 21:31:34.863 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.GetUserWithRoles (UserTask)'
2023-10-10 21:31:34.878 +03:00 [INF] Route matched with {action = "GetUserWithRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUserWithRoles(Int32) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:31:34.907 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:31:34.914 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-10-10 21:31:34.917 +03:00 [INF] Executed action UserTask.Controllers.UserController.GetUserWithRoles (UserTask) in 34.8985ms
2023-10-10 21:31:34.919 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.GetUserWithRoles (UserTask)'
2023-10-10 21:31:34.920 +03:00 [INF] HTTP GET /api/User/12 responded 404 in 57.1504 ms
2023-10-10 21:31:34.927 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/User/12 - - - 404 - application/problem+json;+charset=utf-8 65.1035ms
2023-10-10 21:31:41.160 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/User/20 - -
2023-10-10 21:31:41.162 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.GetUserWithRoles (UserTask)'
2023-10-10 21:31:41.164 +03:00 [INF] Route matched with {action = "GetUserWithRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUserWithRoles(Int32) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:31:41.174 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:31:41.197 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__id_0
2023-10-10 21:31:41.233 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Id] = 4
2023-10-10 21:31:41.243 +03:00 [INF] UserController: get user with rols => {"User":{"Id":20,"Name":"gnamepostman","Age":7,"Email":"aaa@mail.compostman","UserRoles":null,"$type":"User"},"Roles":[{"Id":4,"Name":"User","UserRoles":null,"$type":"Role"}]}
2023-10-10 21:31:41.257 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[UserTask.Models.User, UserTask, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[UserTask.Models.Role, UserTask, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-10 21:31:41.262 +03:00 [INF] Executed action UserTask.Controllers.UserController.GetUserWithRoles (UserTask) in 94.7989ms
2023-10-10 21:31:41.264 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.GetUserWithRoles (UserTask)'
2023-10-10 21:31:41.267 +03:00 [INF] HTTP GET /api/User/20 responded 200 in 104.7313 ms
2023-10-10 21:31:41.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/User/20 - - - 200 - application/json;+charset=utf-8 110.6547ms
2023-10-10 21:32:17.746 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/User/20 application/json 68
2023-10-10 21:32:17.747 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PutUser (UserTask)'
2023-10-10 21:32:17.790 +03:00 [INF] Route matched with {action = "PutUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutUser(Int32, UserTask.ControllerModels.DTOUser) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:32:17.802 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:32:17.819 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Age] = @p0, [Email] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-10-10 21:32:17.827 +03:00 [INF] UserController: update user info by id => {"Id":20,"Name":"put","Age":121,"Email":"user3232@example.com","UserRoles":null,"$type":"User"}
2023-10-10 21:32:17.835 +03:00 [INF] Executing OkObjectResult, writing value of type 'UserTask.Models.User'.
2023-10-10 21:32:17.838 +03:00 [INF] Executed action UserTask.Controllers.UserController.PutUser (UserTask) in 41.9189ms
2023-10-10 21:32:17.840 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PutUser (UserTask)'
2023-10-10 21:32:17.843 +03:00 [INF] HTTP PUT /api/User/20 responded 200 in 95.5886 ms
2023-10-10 21:32:17.845 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/User/20 application/json 68 - 200 - application/json;+charset=utf-8 99.2664ms
2023-10-10 21:34:19.822 +03:00 [INF] Now listening on: https://localhost:7161
2023-10-10 21:34:19.871 +03:00 [INF] Now listening on: http://localhost:5029
2023-10-10 21:34:19.878 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 21:34:19.880 +03:00 [INF] Hosting environment: Development
2023-10-10 21:34:19.882 +03:00 [INF] Content root path: D:\Projects\.NET\Interview\UserTask\
2023-10-10 21:34:20.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - -
2023-10-10 21:34:20.723 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - - - 200 - text/html;charset=utf-8 440.3596ms
2023-10-10 21:34:20.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - -
2023-10-10 21:34:20.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 21:34:20.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - - - 200 12348 application/javascript;+charset=utf-8 5.7747ms
2023-10-10 21:34:20.860 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.6056ms
2023-10-10 21:34:21.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - -
2023-10-10 21:34:21.232 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 200.1997ms
2023-10-10 21:35:21.518 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/User/3 application/json 62
2023-10-10 21:35:21.532 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PutUser (UserTask)'
2023-10-10 21:35:21.586 +03:00 [INF] Route matched with {action = "PutUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutUser(Int32, UserTask.ControllerModels.DTOUser) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:35:23.494 +03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:35:23.618 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__updatedUser_email_0='?' (Size = 4000), @__id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__updatedUser_email_0 AND [u].[Id] <> @__id_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-10-10 21:35:23.633 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-10-10 21:35:23.654 +03:00 [INF] Executed action UserTask.Controllers.UserController.PutUser (UserTask) in 2059.9881ms
2023-10-10 21:35:23.657 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PutUser (UserTask)'
2023-10-10 21:35:23.661 +03:00 [INF] HTTP PUT /api/User/3 responded 400 in 2136.1413 ms
2023-10-10 21:35:23.672 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/User/3 application/json 62 - 400 - application/json;+charset=utf-8 2153.2824ms
2023-10-10 21:35:29.490 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/User/3 application/json 63
2023-10-10 21:35:29.518 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PutUser (UserTask)'
2023-10-10 21:35:29.520 +03:00 [INF] Route matched with {action = "PutUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutUser(Int32, UserTask.ControllerModels.DTOUser) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:35:29.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:35:29.599 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__updatedUser_email_0='?' (Size = 4000), @__id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__updatedUser_email_0 AND [u].[Id] <> @__id_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-10-10 21:35:29.766 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Age] = @p0, [Email] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-10-10 21:35:29.798 +03:00 [INF] UserController: update user info by id => {"Id":3,"Name":"sdfsd","Age":221,"Email":"Tom@mail1.com","UserRoles":null,"$type":"User"}
2023-10-10 21:35:29.824 +03:00 [INF] Executing OkObjectResult, writing value of type 'UserTask.Models.User'.
2023-10-10 21:35:29.835 +03:00 [INF] Executed action UserTask.Controllers.UserController.PutUser (UserTask) in 307.3961ms
2023-10-10 21:35:29.840 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PutUser (UserTask)'
2023-10-10 21:35:29.845 +03:00 [INF] HTTP PUT /api/User/3 responded 200 in 326.5915 ms
2023-10-10 21:35:29.850 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/User/3 application/json 63 - 200 - application/json;+charset=utf-8 359.8290ms
2023-10-10 21:35:51.414 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7161/api/User/47 - -
2023-10-10 21:35:51.433 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.DeleteUser (UserTask)'
2023-10-10 21:35:51.445 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:35:51.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:35:51.500 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2023-10-10 21:35:51.512 +03:00 [INF] UserController: delete user by id => {"Id":47,"Name":"string","Age":2147483647,"Email":"user11@example.com","UserRoles":null,"$type":"User"}
2023-10-10 21:35:51.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-10 21:35:51.519 +03:00 [INF] Executed action UserTask.Controllers.UserController.DeleteUser (UserTask) in 70.608ms
2023-10-10 21:35:51.526 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.DeleteUser (UserTask)'
2023-10-10 21:35:51.527 +03:00 [INF] HTTP DELETE /api/User/47 responded 200 in 94.3634 ms
2023-10-10 21:35:51.530 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7161/api/User/47 - - - 200 - text/plain;+charset=utf-8 115.7156ms
2023-10-10 21:35:56.219 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7161/api/User/47 - -
2023-10-10 21:35:56.221 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.DeleteUser (UserTask)'
2023-10-10 21:35:56.223 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:35:56.231 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Age], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:35:56.236 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-10-10 21:35:56.245 +03:00 [INF] Executed action UserTask.Controllers.UserController.DeleteUser (UserTask) in 17.2897ms
2023-10-10 21:35:56.247 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.DeleteUser (UserTask)'
2023-10-10 21:35:56.250 +03:00 [INF] HTTP DELETE /api/User/47 responded 404 in 28.8145 ms
2023-10-10 21:35:56.253 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7161/api/User/47 - - - 404 - application/problem+json;+charset=utf-8 33.6027ms
2023-10-10 21:36:14.669 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7161/api/User/UserRoles/54 - -
2023-10-10 21:36:14.671 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.DeleteUserRole (UserTask)'
2023-10-10 21:36:14.678 +03:00 [INF] Route matched with {action = "DeleteUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserRole(Int32) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:36:14.697 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[RoleId], [u].[UserId]
FROM [UserRoles] AS [u]
WHERE [u].[Id] = @__p_0
2023-10-10 21:36:14.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserRoles]
OUTPUT 1
WHERE [Id] = @p0;
2023-10-10 21:36:14.727 +03:00 [INF] UserController: delete role from user by id => {"Id":54,"UserId":46,"User":null,"RoleId":2,"Role":null,"$type":"UserRole"}
2023-10-10 21:36:14.740 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-10-10 21:36:14.742 +03:00 [INF] Executed action UserTask.Controllers.UserController.DeleteUserRole (UserTask) in 59.2141ms
2023-10-10 21:36:14.745 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.DeleteUserRole (UserTask)'
2023-10-10 21:36:14.746 +03:00 [INF] HTTP DELETE /api/User/UserRoles/54 responded 204 in 74.7059 ms
2023-10-10 21:36:14.748 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7161/api/User/UserRoles/54 - - - 204 - - 78.9960ms
2023-10-10 21:38:14.797 +03:00 [INF] Now listening on: https://localhost:7161
2023-10-10 21:38:14.851 +03:00 [INF] Now listening on: http://localhost:5029
2023-10-10 21:38:14.858 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 21:38:14.860 +03:00 [INF] Hosting environment: Development
2023-10-10 21:38:14.863 +03:00 [INF] Content root path: D:\Projects\.NET\Interview\UserTask\
2023-10-10 21:38:15.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - -
2023-10-10 21:38:15.913 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - - - 200 - text/html;charset=utf-8 517.6153ms
2023-10-10 21:38:16.038 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - -
2023-10-10 21:38:16.038 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 21:38:16.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - - - 200 12348 application/javascript;+charset=utf-8 5.9296ms
2023-10-10 21:38:16.088 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.4363ms
2023-10-10 21:38:16.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - -
2023-10-10 21:38:16.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 354.8726ms
2023-10-10 21:38:43.555 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/User application/json 77
2023-10-10 21:38:43.571 +03:00 [INF] Executing endpoint 'UserTask.Controllers.UserController.PostUser (UserTask)'
2023-10-10 21:38:43.625 +03:00 [INF] Route matched with {action = "PostUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserTask.Models.User]] PostUser(UserTask.ControllerModels.DTOUser) on controller UserTask.Controllers.UserController (UserTask).
2023-10-10 21:38:45.460 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__createUser_email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__createUser_email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-10-10 21:38:45.706 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Age], [Email], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-10-10 21:38:45.784 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-10-10 21:38:45.791 +03:00 [INF] UserController: add user => {"Id":48,"Name":"string","Age":2147483647,"Email":"user132@example.com","UserRoles":[{"Id":57,"UserId":48,"User":{"Id":48,"Name":"string","Age":2147483647,"Email":"user132@example.com","UserRoles":[{"Id":57,"UserId":48,"User":{"Id":48,"Name":"string","Age":2147483647,"Email":"user132@example.com","UserRoles":[{"Id":57,"UserId":48,"User":{"Id":null,"Name":null,"Age":null,"Email":null,"UserRoles":null,"$type":"User"},"RoleId":4,"Role":null,"$type":"UserRole"}],"$type":"User"},"RoleId":4,"Role":null,"$type":"UserRole"}],"$type":"User"},"RoleId":4,"Role":null,"$type":"UserRole"}],"$type":"User"}
2023-10-10 21:38:45.845 +03:00 [INF] Executing ObjectResult, writing value of type 'UserTask.Models.User'.
2023-10-10 21:38:45.867 +03:00 [INF] Executed action UserTask.Controllers.UserController.PostUser (UserTask) in 2233.2626ms
2023-10-10 21:38:45.871 +03:00 [INF] Executed endpoint 'UserTask.Controllers.UserController.PostUser (UserTask)'
2023-10-10 21:38:45.875 +03:00 [INF] HTTP POST /api/User responded 200 in 2313.0496 ms
2023-10-10 21:38:45.887 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/User application/json 77 - 200 - application/json;+charset=utf-8 2331.4854ms
